<div class="active-verse-wrapper">
  <div class="active-verse-title">
    Pristine Active Verse
  </div>

  <div class="pristine-shell">
    <!-- Overlay layer (background shading only; text is transparent) -->
    <div class="pristine-overlay" [innerHTML]="overlayHtml()"></div>

    <!-- Editor layer (visible text, selectable, read-only) -->
    <div
      #editor
      class="pristine-editor"
      contenteditable="true"
      spellcheck="false"
      (mousedown)="onEditorMouseDown()"
      (mouseup)="onEditorMouseUp()"
      (keyup)="onEditorKeyUp()"
      (beforeinput)="onBeforeInput($event)"
      (keydown)="onKeyDown($event)"
    ></div>
  </div>

  @if (renderedVerseHtml()) {
    <div class="rendered-verse-title">Rendered Verse</div>
    <div class="rendered-verse" [innerHTML]="renderedVerseHtml()"></div>
  }
</div>
